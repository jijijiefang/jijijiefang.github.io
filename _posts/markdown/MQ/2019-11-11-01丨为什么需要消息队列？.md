---
layout:     post
title:      "MQ-01丨为什么需要消息队列？"
date:       2019-11-01 00:00:00
author:     "jiefang"
header-style: text
tags:
    - MQ
---
# 01丨为什么需要消息队列？
- 异步处理
- 流量控制
- 服务解耦

## 异步处理
消息队列被用于实现服务的异步处理。这样做的好处是：
- 可以更快地返回结果；
- 减少等待，自然实现了步骤之间的并发，提升系统总体的性能。

## 流量控制
这种设计的优点是：能根据下游的处理能力自动调节流量，达到“削峰填谷”的作用。但这样做同样是有代价的：
- 增加了系统调用链环节，导致总体的响应时延变长。
- 上下游系统都要将同步调用改为异步消息，增加了系统的复杂度。

## 服务解耦
消息队列的另外一个作用，就是实现系统应用之间的解耦。
## 总结
消息队列最常被使用的三种场景：异步处理、流量控制和服务解耦。当然，消息队
列的适用范围不仅仅局限于这些场景，还有包括：
- 作为发布 / 订阅系统实现一个微服务级系统间的观察者模式；
- 连接流计算任务和数据；
- 用于将消息广播给大量接收者。

消息队列也有它自身的一些问题和局限性，包括：
- 引入消息队列带来的延迟问题；
- 增加了系统的复杂度；
- 可能产生数据不一致的问题。